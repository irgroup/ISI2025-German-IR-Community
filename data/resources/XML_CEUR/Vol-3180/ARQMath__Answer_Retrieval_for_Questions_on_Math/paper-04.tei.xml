<?xml version="1.0" encoding="UTF-8"?>
<TEI xml:space="preserve" xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 https://raw.githubusercontent.com/kermitt2/grobid/master/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<fileDesc>
			<titleStmt>
				<title level="a" type="main" coord="1,89.29,84.74,416.46,15.42;1,89.29,106.66,411.16,15.42">Expanding Spatial Regions and Incorporating IDF for PHOC-Based Math Formula Retrieval at ARQMath-3</title>
				<funder ref="#_kaeTVaj">
					<orgName type="full">Alfred P. Sloan Foundation</orgName>
				</funder>
				<funder ref="#_H6wvV5K">
					<orgName type="full">National Science Foundation (USA)</orgName>
				</funder>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName coords="1,89.29,138.54,91.20,5.43"><forename type="first">Matt</forename><surname>Langsenkamp</surname></persName>
							<affiliation key="aff0">
								<orgName type="institution">Rochester Institute of Technology</orgName>
								<address>
									<addrLine>1 Lomb Memorial Drive</addrLine>
									<postCode>14623</postCode>
									<settlement>Rochester</settlement>
									<region>NY</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName coords="1,192.39,138.54,90.05,5.43"><forename type="first">Behrooz</forename><surname>Mansouri</surname></persName>
							<affiliation key="aff0">
								<orgName type="institution">Rochester Institute of Technology</orgName>
								<address>
									<addrLine>1 Lomb Memorial Drive</addrLine>
									<postCode>14623</postCode>
									<settlement>Rochester</settlement>
									<region>NY</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName coords="1,309.89,138.54,78.09,5.43"><forename type="first">Richard</forename><surname>Zanibbi</surname></persName>
							<affiliation key="aff0">
								<orgName type="institution">Rochester Institute of Technology</orgName>
								<address>
									<addrLine>1 Lomb Memorial Drive</addrLine>
									<postCode>14623</postCode>
									<settlement>Rochester</settlement>
									<region>NY</region>
									<country key="US">USA</country>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main" coord="1,89.29,84.74,416.46,15.42;1,89.29,106.66,411.16,15.42">Expanding Spatial Regions and Incorporating IDF for PHOC-Based Math Formula Retrieval at ARQMath-3</title>
					</analytic>
					<monogr>
						<idno type="ISSN">1613-0073</idno>
					</monogr>
					<idno type="MD5">2983E308991BB1C2AFC7D7183B8ABBF1</idno>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<encodingDesc>
			<appInfo>
				<application version="0.8.0" ident="GROBID" when="2024-06-26T16:21+0000">
					<desc>GROBID - A machine learning software for extracting information from scholarly documents</desc>
					<ref target="https://github.com/kermitt2/grobid"/>
				</application>
			</appInfo>
		</encodingDesc>
		<profileDesc>
			<abstract>
<div xmlns="http://www.tei-c.org/ns/1.0"><p>For ARQMath 2022, the XY-PHOC Team has built upon their previous work from ARQMath 2021. We submitted multiple runs for the Formula Retrieval task (Task 2). Pyramidal Histogram of Character (PHOC) formula encodings capture the two-dimensional layout of symbols, using binary vectors to indicate the spatial regions where symbols appear. Our updated PHOC models add additional X/Y partitions, and introduce ellipsoidal regions to capture symmetric layouts (e.g., 'ğ‘¥ + ğ‘¦' and 'ğ‘¦ + ğ‘¥'). Our PHOC models were reimplemented in OpenSearch, which has decreased Mean Response Times (MRTs) by orders of magnitude. We also explored incorporating Inverse Document Frequency (IDF) weights in our PHOC similarity function. Despite their simplicity, our PHOC models were competitive at ARQMath 2022 in P â€² @10 measures. Our IDF models did not perform as expected, and we will be exploring ways to improve them in the future. We also introduce a new tool for visually comparing ARQMath Task 2 runs (ARQMathCompare). This along with Python libraries for PHOC embedding and retrieval (AnyPHOC and</p></div>
			</abstract>
		</profileDesc>
	</teiHeader>
	<facsimile>
		<surface n="1" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="2" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="3" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="4" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="5" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="6" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="7" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="8" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="9" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="10" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="11" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="12" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="13" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="14" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="15" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="16" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="17" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="18" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="19" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
		<surface n="20" ulx="0.0" uly="0.0" lrx="595.276" lry="841.89"/>
	</facsimile>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1.">Introduction</head><p>The XY-PHOC team from The Document and Pattern Recognition Lab (DPRL) from the Rochester Institute of Technology (USA) participated in the ARQMath 2022 Formula Retrieval Task (Task 2). Task 2 deals with returning relevant formula based on a query formula taken from a Math Stack Exchange (MSE) post <ref type="bibr" coords="1,211.16,442.72,11.24,4.95" target="#b0">[1,</ref><ref type="bibr" coords="1,225.13,442.72,7.49,4.95" target="#b1">2]</ref>. In this paper, we continue our work on using spatial features for isolated formula retrieval, i.e., where both query and candidate formulas are considered without any surrounding context. Ad-hoc formula queries used to define unfamiliar notation is an example of where isolated formula retrieval may be useful. Browsing is another use case, where for example a user explores technical papers using a single formula query.</p><p>ARQMath Task 2 is actually a contextualized formula retrieval task, designed to test a systems' ability to retrieve relevant formula based on a given formula query and the question post where it appears. The relevance of a retrieved formula takes into account the question to be answered from which the formula is taken; for example, this is influenced by variable types and value ranges, and operator definitions that are not considered when retrieving formulas in isolation. Each Task 2 topic includes the topic number, the query formula identifier within the ARQMath collection, the query formula in L A T E X, and the full question or answer post that the query formula is taken from (with the formula included in-context). The collection to be searched for Task 2 includes both question and answer posts from Math Stack Exchange (MSE) <ref type="bibr" coords="2,470.47,117.32,11.39,4.95" target="#b1">[2]</ref>. The ARQMath collection includes posts published between 2010 and 2018. In ARQMath-1 topics are pulled from question posts in 2019, and in ARQMath-2 topics where pulled from question posts in 2020. Following this pattern, in ARQMath-3 topics are constructed from MSE question posts published in 2021. For evaluation, returned formulas are grouped by appearance using visual identifiers, and repeated visual identifiers are removed using a deduplication step before evaluation <ref type="bibr" coords="2,138.70,198.61,11.43,4.95" target="#b1">[2]</ref>.</p><p>For ARQMath 2021 the XY-PHOC team submitted a run to Task 2. The model did not make use of the question post context in the Task 2 topics, instead using only the appearance of formulas in isolation. Formulas in L A T E X were rendered as Scalable Vector Graphics (SVG) images, which represent the identities and locations of symbols. Formula appearance was represented by binary vectors capturing the locations of symbols within hierarchically partitioned regions in both the X and Y directions (Pyramidal Histogram of Character (PHOC) vectors <ref type="bibr" coords="2,440.58,279.91,11.24,4.95" target="#b2">[3,</ref><ref type="bibr" coords="2,454.55,279.91,7.21,4.95" target="#b3">4]</ref>). Queries were disjunctive, with any document containing a query symbol being scored by the cosine similarity of the query PHOC vector with the candidate's PHOC vector. Despite its simplicity, the XY-PHOC model was competitive with other ARQMath 2021 Task 2 runs, scoring within 0.7% NDCG' 3.8% MAP' and 5.5% P'@10 of the best submission. Also, while many other systems fluctuated in effectiveness from ARQMath 2020 to ARQMath 2021, XY-PHOC had comparatively stable performance. One drawback was that the system was very slow, taking around ten minutes to run queries. With these promising results, we were interested in exploring ways to improve both the efficiency and effectiveness of PHOC models for ARQMath 2022.</p><p>For ARQMath 2022, we have used higher spatial resolutions (e.g., using 7 rather than 5 horizontal and vertical regions), and introduced ellipses for concentric regions that capture visual symmetry (e.g., to represent 'ğ‘¥ + ğ‘¦' and 'ğ‘¦ + ğ‘¥' similarly). We also introduced a variation of the model where PHOC matches are scaled by the Inverse Document Frequency (IDF) of symbols in formulas. IDF models did not improve effectiveness as we had hoped, and we will be looking to improve these models at a future time. Similar to ARQMath 2021, despite the absence of context features in our PHOC models, the P â€² @10 measures obtained for our non-IDF PHOC models in ARQMath 2022 Task 2 are again competitive, and now have an OpenSearch implementation that runs many times faster than the original implementation. The new implementation also supports a time/effectiveness tradeoff by constraining the number of query symbol matches required for a candidate to be scored. Using this matching constraint reduces retrieval time to less than 200ms on average for fully conjunct queries, where all query symbols must be present. This conjunct retrieval mode may be useful for autocompletion, where it is reasonable to expect all query symbols to be included in returned formulas.</p><p>To gain additional insight into the behavior of our models and Task 2 more generally, we created a tool to comparatively view qrel (relevance score) files and multiple Task 2 runs, showing returned formulas along with their associated relevance ratings. These visualizations can be found in the Appendix of the paper. The code for our models and visualization tool are available as Python libraries online. <ref type="foot" coords="2,247.77,643.10,3.71,3.62" target="#foot_0">1</ref>Level 1 "y": <ref type="bibr" coords="3,280.18,147.68,11.73,4.52" target="#b0">[1]</ref>  </p><formula xml:id="formula_0" coords="3,89.29,147.68,409.21,216.12">... "9": [1] Level 2 "y": [1,1] ... "9": [1,1] "y": [1,0] ... "9": [0,1] "y": [1,1] ... "9": [1,1] Level 3 "y": [0,1,1] ... "9": [1,1,1] "y": [1,0,0] ... "9": [0,0,1] "y": [1,1,0] ... "9": [1,1,0] Level 4 "y": [0,1,1,1] ... "9": [0,1,1,0] "y": [1,0,0,0] ... "9": [0,0,0,1] "y": [1,1,0,0] ... "9": [1,1,0,0]</formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.">Related Work</head><p>At ARQMath-2021, the XY-PHOC approach differed from other state of the art approaches: it did not represent formula structure using graphs or paths, but rather only the spatial positions of symbols <ref type="bibr" coords="3,140.33,490.96,11.45,4.95" target="#b4">[5]</ref>. This not only makes the model simpler to visualize and reason about, but also allows formulas to be represented in a forgiving way, as a slight positional shift of a symbol will not change its spatial region membership. The use of a binary vector also allow for smaller representations, as the 29 bit vectors used in the submission could easily fit into a 32 bit integer. An example of XY-PHOC regions can be seen in the left (Y) and middle (X) columns of Figure <ref type="figure" coords="3,500.21,545.16,3.66,4.95" target="#fig_0">1</ref>.</p><p>The XY-PHOC model is a variation of traditional vector space retrieval models (i.e., using 'sparse vector' representations). This is a well studied area for text, with many well-known variants (e.g., TF-IDF, BM25 <ref type="bibr" coords="3,220.20,585.81,11.48,4.95" target="#b5">[6,</ref><ref type="bibr" coords="3,234.86,585.81,7.40,4.95" target="#b6">7]</ref>). As is common for vector space models, XY-PHOC uses cosine similarity for ranking (inspired by its previous use with PHOC encodings by Sudholt et al. <ref type="bibr" coords="3,89.29,612.91,11.08,4.95" target="#b7">[8]</ref>). For XY-PHOC, a rank-equivalent version that takes advantage of the binary vectors used for PHOC was developed. Given a binary query PHOC vector a, and a binary candidate formula PHOC vector b, the binary vector cosine similarity (ğ‘ğ‘ğ‘œğ‘ ) is defined as shown in Equation <ref type="formula" coords="3,491.45,640.01,3.82,4.95" target="#formula_1">1</ref>:</p><formula xml:id="formula_1" coords="4,200.63,95.72,305.35,27.01">cos(a, b) ğ‘Ÿğ‘ğ‘›ğ‘˜ = bcos(a, b) = 1 âˆšï¸€ |b| 1 |a âˆ§ b| 1<label>(1)</label></formula><p>| â€¢ | 1 represents the Hamming weight (i.e., the number of '1' bits). âˆ§ is logical AND, capturing where symbols are occupying the same region in a and b. In essence, the vectors are scored by the number of shared PHOC symbol regions, scaled by the length of the candidate vector ( âˆšï¸€ |ğ‘|). This scaling generally prefers candidates b with fewer additional symbols not present in a. Note that the candidate scaling factor b can be computed at index time.</p><p>While surprisingly effective, the original XY-PHOC model used only axis-aligned horizontal and vertical regions, with the same number of regions in either direction. However, Avenoso noticed that most formulas tend to extend in the horizontal direction rather than in the vertical direction <ref type="bibr" coords="4,155.80,242.00,11.58,4.95" target="#b4">[5]</ref>. Another limitation is in the representation of commutative operators. A commutative operation is one where the order in which operands are applied does not impact the result, such as addition. We noted that some formulas containing commutative operations would produce different vectors in the XY-PHOC model. For example consider the following two equations:</p><formula xml:id="formula_2" coords="4,210.20,302.10,295.79,26.61">ğ‘¦ = 1 2 ğ‘¥ + âˆš 9 versus âˆš 9 + ğ‘¥ 1 2 = ğ‘¦<label>(2)</label></formula><p>Despite having the same interpretation, these two equations will produce different XY-PHOC vectors. We wanted to find a way to capture a symbol's distance from the center of the equation, so that commutative operations that are presented differently could be better matched. This led us to using concentric ellipses to capture regions from the outside to the middle of an expression (see the right column of Figure <ref type="figure" coords="4,229.10,390.98,3.57,4.95" target="#fig_0">1</ref>).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3.">PHOC Region Modifications and Generalization</head><p>The first modification we explored was adding more regions types. The motivation for this was to capture formulas with commutative operations, in which operands occur in a different order as described in the last section, but also to be able to work with the shape of the data we are trying to index, whether it be math, chemistry, or plots and figures. We switched our thinking from thinking in terms of X and Y to thinking in terms of regions with different shapes.</p><p>The first shape we added was an ellipse. An ellipse helps address the problem of commutative formulae being represented differently when using only horizontal (X) and vertical (Y) splits. Figure <ref type="figure" coords="4,120.84,544.45,5.16,4.95" target="#fig_1">2</ref> illustrates this: despite being on opposite sides of the formula, the ğ‘¦ and âˆš symbols produce identical PHOC vectors at all levels. From observing Figure <ref type="figure" coords="4,399.90,558.00,5.17,4.95" target="#fig_1">2</ref> further, it can be seen that only the symbol 9 has a PHOC vector that differs at any level. In previous XY-PHOC work, symbol locations were represented by a horizontal line located at the vertical center of symbol bounding boxes. Since we are now introducing regions with more complex shapes that are not axis-aligned, we are using bounding boxes to represent symbol membership in PHOC regions.</p><p>PHOC Configuration Notation. To differentiate PHOC region configurations, we use a notation to represent what region shapes are being used, and the number of levels in each (e.g., 'xy5' or 'xy7o4'). 'x' denotes horizontally-split rectangles, 'y' denotes vertically-split rectangles, and 'o' denotes concentric ellipses. A number defines the number of levels to expand the Level 2 preceding list of region types to. For all region types, at each level ğ‘› &gt; 1, splits are made equally in the corresponding direction(s): ğ‘› equal-size horizontally or vertically stacked rectangles for 'x' and 'y', and ğ‘› ellipses that split the formula's width and height at equal intervals along lines running through the centroid of the formula. </p><formula xml:id="formula_3" coords="5,89.29,145.98,377.96,147.30">"y": [1,1] ... "9": [1,1] "y": [1,1] ... "9": [0,1] Level 3 "y": [1,1,0] ... "9": [1,1,0] "y": [1,1,0] ... "9": [1,1,0] Level 4 "y": [1,1,0,0] ... "9": [1,1,0,0] "y": [1,1,0,0] ... "9": [0,1,1,0]</formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="4.">Scoring with Symbol Inverse Document Frequency</head><p>We wanted to incorporate Inverse Document Frequency (IDF) into the model to increase the weight of rare symbols. IDF is implemented as described by SpÃ¤rck Jones <ref type="bibr" coords="5,406.77,524.11,11.28,4.95" target="#b5">[6]</ref>, shown in Equation <ref type="formula" coords="5,89.29,537.65,3.81,4.95">3</ref>. Given an index I which contains N formulas and has vocabulary V, token ğ‘˜ âˆˆ ğ‘‰ , and ğ‘› ğ‘˜ , the number of formulas in which k occurs within index I, the Inverse Document Frequency of token ğ‘˜ (ğ‘–ğ‘‘ğ‘“ ğ‘˜ ) is:</p><formula xml:id="formula_4" coords="5,257.21,584.23,248.78,25.64">idf k = log ğ‘ ğ‘› ğ‘˜ + 1 (3)</formula><p>Using this formula, we modify the ğ‘ğ‘ğ‘œğ‘  function in Equation 1 as shown in Equation <ref type="formula" coords="5,488.08,618.52,5.17,4.95" target="#formula_6">4</ref>to incorporate IDF weights. This produces a scoring function similar to TF-IDF. Given a query vector a, and a candidate formula vector b such that a ğ‘˜ and b ğ‘˜ denote the portion of each vector corresponding to token ğ‘˜:</p><formula xml:id="formula_5" coords="6,106.22,89.18,352.97,175.18">Load L A T E X Render to SVG Extract PHOC Vectors from SVG Build OpenSearch Bulk Insert Load into OpenSearch y = x\frac{1}{2} + \sqrt{9} &lt;svg&gt; &lt;g&gt;...&lt;/g&gt; &lt;/svg&gt; "y":[1,0,1,...,1,0,1], ... "9":[1,1,1,...,1,0,1]</formula><p>{"index": {"_index": "xyo3", "_id" : "1"}} {"y: 343, ..., "b_norm_factor": 8.0} curl -XPOST url --data-binary @bulk.json  </p><formula xml:id="formula_6" coords="6,213.14,358.52,292.84,29.73">idf (a, b) = 1 âˆšï¸€ |b| 1 âˆ‘ï¸ ğ‘˜âˆˆğ‘‰ (|a ğ‘˜ âˆ§ b ğ‘˜ | 1 Ã— ğ‘–ğ‘‘ğ‘“ ğ‘˜ )<label>(4)</label></formula><p>Note that we are using a positional term frequency for tokens which varies for matching regions in a and b, but the IDF weight is fixed by token, and does not take positions into account.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="5.">Implementation: Indexing and Retrieval</head><p>We combined available software tools to create a full pipeline capable of running experiments from a single configuration file. These tools were MathJax (a Javascript Library used to render math in the web) <ref type="foot" coords="6,165.57,495.13,3.71,3.62" target="#foot_1">2</ref> , PySpark (a library for distributed computing) <ref type="foot" coords="6,377.86,495.13,3.71,3.62" target="#foot_2">3</ref> , and OpenSearch (a feature rich search engine that started as a fork of ElasticSearch<ref type="foot" coords="6,344.82,508.68,3.71,3.62" target="#foot_3">4</ref> )<ref type="foot" coords="6,352.34,508.68,3.71,3.62" target="#foot_4">5</ref> . To make prototyping easier, we also wrote a library that allows experiments using different PHOC configurations to be defined declaratively, called AnyPHOC. AnyPHOC allows users to instantiate objects to represent different PHOC configurations, which can then be tested against a set of SVG images. Indexing Pipeline. Figure <ref type="figure" coords="6,225.41,565.51,5.09,4.95" target="#fig_3">3</ref> shows the process of a formula moving through the indexing pipeline. First 'y = x\frac{1}{2} + \sqrt{9}' is loaded into a PySpark dataframe along with metadata such as the formula id and the associated post id. It is then sent to MathJax which produces an SVG that can be parsed into a set containing bounding boxes for each symbol in the SVG. The composed AnyPHOC object is then tested against the set of bounding boxes, creating Finally, a request is made to OpenSearch to index the bulk file, and queries can be made against the newly created index. Since we are using a novel representation for math formulas, we did not use any of the built in Open-Search scoring functions. We instead used the Painless scripting language <ref type="foot" coords="7,171.32,331.15,3.71,3.62" target="#foot_5">6</ref> provided by both ElasticSearch and OpenSearch to implement our scoring function.</p><p>Retrieval. When performing retrieval for non-IDF scoring, we simply use the scoring function from the original XY-PHOC experiments (Equation <ref type="formula" coords="7,360.29,374.43,3.58,4.95" target="#formula_1">1</ref>). When using the modified IDF scoring (Equation <ref type="formula" coords="7,171.32,387.98,3.59,4.95" target="#formula_6">4</ref>), we were unable to get the inverse symbol frequencies from OpenSearch because of how PHOCs were encoded (as fields rather than documents). As a result, we needed to first cache the IDF map by getting the count of documents in the index and then getting the symbol frequency for each symbol that appears in the index. We could then build a map from each symbol to its IDF score. We send IDF values associated with the tokens in the query to OpenSearch when performing a search.</p><p>ARQMath 2022. A summary of the indices used for our experiments is shown in Table <ref type="table" coords="7,89.04,482.82,3.81,4.95" target="#tab_0">1</ref>. When initially preparing for ARQMath-3, the full ARQMath collection was indexed. This included many formulas that were visually identical. Given that many formulas appear more than once, we refer to this dataset going forward as the 'individual' formula dataset. A total of 25,324,774 documents were included in the 'xy5' index, and 26,827,604 documents in the 'xy7o4' index. The difference in counts (more than one million for both the individual formula and visually unique formula indices) comes from errors in the SVG rendering and extraction process, which may impact results reported later in the paper.</p><p>Regarding the index sizes shown in Table <ref type="table" coords="7,280.15,577.66,3.66,4.95" target="#tab_0">1</ref>, note that the default index compression algorithm used in OpenSearch is LZ4 <ref type="foot" coords="7,211.40,588.58,3.71,3.62" target="#foot_6">7</ref> . For the individual formula index, the 'xy5' index is 30% smaller than the 'xy7o4,' and for the visually unique index, the 'xy5' index is 40% smaller than the 'xy7o4'. This large difference is seen because 'xy5' is stored in an integer (32 bits), while 'xy7o4' is stored in a long integer (64 bits). Using the individual formula indices led to degraded results, as many top results were identical. When de-duplication was performed, as is done for all Task 2 ARQMath submissions, we sometimes have few if any valid hits. To mitigate this, we switched to indexing only visually unique formulas (as done for XY-PHOC at ARQMath 2021), and this greatly improved results. This visually unique index contained 8,231,511 formulas that were successfully parsed, meaning that roughly 17 million formulas in the full ARQMath collection are duplicates.</p><p>Unfortunately, we did not make this switch until after the submission deadline for ARQMath 2022. In the next Section, we present a summary of both official runs using the individual formula index along with updated results using the visually unique index computed after submitting official runs.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="6.">Results</head><p>Here we report the results from preliminary experiments using Task 2 topics from ARQMath 2020 and 2021, along with results for official runs submitted to ARQMath 2022 and additional experiments performed after the ARQMath 2022 qrels became available.</p><p>Preliminary PHOC Configuration Experiment. For preliminary development, we generated a small dataset made up of only formulas with relevance scores included in the 2021 ARQMath Task 2 qrels. We took this approach to greatly reduce indexing time, and increase the number of PHOC configurations that we could quickly compare.</p><p>In our first experiment, we compared PHOC configurations with 5, 7, and 10 levels in the x and y directions, configurations with ellipse regions (with 5 levels to start), and configurations with more horizontal than vertical and ellipse regions (e.g., 'x7y5' and 'x7yo5'). The largest configuration attempted was 'xy10', requiring 109 bits per vector. Avenoso showed previously that adding more levels in XY-PHOC can increase the robustness of the model <ref type="bibr" coords="8,438.70,604.01,14.46,4.95" target="#b4">[5]</ref>, and so we wanted to see what happens when a large number of regions are employed.</p><p>Results for these experiments are shown in Table <ref type="table" coords="8,328.52,631.11,3.81,4.95" target="#tab_1">2</ref>. Of the configurations tested, 'xy7o5' (69 bits long) had the most promising results in all metrics. The next most promising in terms of NDCG â€² and MAP â€² was 'xy7' while 'xyo5' was next most promising in terms of P â€² @10. As both of these are sub-vectors of 'xy7o5', we decided to use 'xy7o5' as our primary model for The first three configurations using ARQMath 2020 and 2021, and submitted for ARQMath-3; the fourth configuration ('xy7o4-IDF') was not submitted for ARQMath-3 due to a lack of time.</p><p>In the remainder of this Section, we report effectiveness measures for the ARQMath-1 and -2 collections (2020 and 2021), followed by a summary of results for ARQMath-3 (2022). We then provide information regarding the efficiency of our new PHOC implementation, which has reduced retrieval times dramatically when compared to the XY-PHOC system from ARQMath-2.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="6.1.">Effectiveness Measures for ARQMath-1 (2020) and ARQMath-2 (2021)</head><p>Table <ref type="table" coords="9,115.19,545.68,4.97,4.95" target="#tab_2">3</ref> provides effectiveness measures for our four configurations on both ARQMath 2020 and ARQMath 2021. Due to time constraints, we were unable to run 'xy7o4-IDF' on the individual formula collections. The 'Individual Formulas' results correspond to our submitted runs, also shown later in Table <ref type="table" coords="9,187.10,586.32,3.81,4.95" target="#tab_5">6</ref>. The P â€² @10 metrics are similar between the individual and visually distinct formula indices, as after the visually identical formula are removed, the remaining formulas at top ranks are often very similar. However the NDCG â€² and MAP â€² decrease when using the individual formula index, because of the fewer evaluated hits that remain after deduplication.</p><p>Within index types, the rankings of the PHOC models are stable across the 2020 and 2021 topics. There are some swaps in position for the IDF models, but the differences in effectiveness measures are quite small. Across all indices and collections, the P â€² @10 values fall within a Old: Bounding Boxes Collapsed for Numbers New: Original Bounding Boxes narrow range of 37.4-44%, and are within 0.2% for 'xy7o4' using the individual formula indices, and by just 1% for the visually unique formula indices. More variation is seen in the measures for complete rankings, with nDCG â€² varying between 32-55%, and MAP â€² varying between 16-37%.</p><p>Consistent with our preliminary experiment, for both ARQMath 2020 and 2021, and on both index types, the 'xy7o4' PHOC configuration performed better than 'xy5.' We suspect that the additional region type (ellipse) and higher spatial resolution in 'xy7o4' accounts for this difference, providing more spatial information and increasing precision as a result.</p><p>A surprising result was that for both 'xy5' and 'xy7o4', their accompanying IDF variation performed slightly worse. We believe that this may be due to a bug; but another possibility is that rarer tokens from queries are matched to rare tokens in a document in the lower levels, before the regions become smaller and more granular. Position is very important in the PHOC model, so if rare tokens exist in a query and a posting but are not close one another, the IDF weight applied at lower levels could provide an undesirable boost in scoring. It may also be helpful to weight matches in smaller regions for PHOC vectors themselves, as matching bits at higher levels indicate that symbols are spatially closer. Using IDF with PHOC, it may make more sense to use individual IDF weights defined for each region at each level, with higher weights for levels smaller spatial regions.</p><p>Differences Between XY-PHOC and 'xy5'. It is also worth noting that we did not match the ARQMath-2 XY-PHOC results using our 'xy5' PHOC model, which we had initially expected to be identical. After some investigation, we found that some queries retrieve identical formulas that are scored differently by XY-PHOC and the 'xy5' implementations. This led to identifying three differences in the models and their implementation: two are related to differences in how spatial information is represented, and the third to indexing differences.</p><p>First, while rebuilding the indexing module to incorporate the new AnyPHOC library and OpenSearch, what we thought was a bug in the SVG parser code was 'fixed, ' but we now believe this may have been a feature in disguise (see Figure <ref type="figure" coords="10,318.12,571.56,3.52,4.95" target="#fig_5">4</ref>). Certain transformations were not being applied, causing symbol bounding boxes within tokens like numbers and function names to share the same starting position. This may actually be a feature, for example allowing the number ğœ‹ (3.141592. . .) to be matched using differing numbers of digits at one position. It would be interesting to see if instead of collapsing numbers as shown in Figure <ref type="figure" coords="10,444.93,625.76,3.75,4.95" target="#fig_5">4</ref>, each digit's bounding box was expanded to the bounding box for the complete number. For example in Figure <ref type="figure" coords="10,119.66,652.86,4.97,4.95" target="#fig_5">4</ref> the digit '3' would use or add a bounding box encompassing all of '3.141592, ' as would every subsequent digit within the number. </p><formula xml:id="formula_7" coords="11,218.18,122.10,158.92,86.51">Q.202 Rank [ğ¸ : ğ¹ ] &lt; âˆ; Relevance 1 [ğ¸ : ğ¹ ] &lt; âˆ 3 2 [ğ¹ : ğ¸] &lt; âˆ 3 3 [ğ¹ : ğ¹ ] &lt; âˆ 3 4 [ğ¸ : ğ¹ ] = ğ‘› &lt; âˆ 3 5 [ğ¸ : ğ¹ ] = 2 2</formula><p>The second difference is that 'xy5' changes the representation of symbol locations to bounding boxes from the horizontal lines at the vertical center of symbols used by XY-PHOC. We intend to conduct future experiments to check the effect of how symbol locations are represented: we wish to go back to using just a line, as well as represent symbols at a single point by their bounding box centroids.</p><p>A third difference is the number of formulas indexed; as seen in Table <ref type="table" coords="11,423.27,306.32,3.81,4.95" target="#tab_0">1</ref>, there are over a million more formulas that were indexed for the XY-PHOC model. Correcting a small number of frequent L A T E X parsing errors may close this gap.</p><p>Qualitative Results. We saw some confirmation of our hypothesis regarding ellipse regions being able to capture inverted formulas through spatial symmetry. As an example view Q.251 from the ARQMath 2021 topic file in Equation <ref type="formula" coords="11,297.28,374.06,3.82,4.95">5</ref>:</p><formula xml:id="formula_8" coords="11,259.12,393.29,246.86,14.59">(ğ‘˜ + 1) 1 ğ‘˜+1 &lt; ğ‘˜ 1 ğ‘˜ (5)</formula><p>This query has multiple formula evaluated as highly relevant that are inverted. For example: </p><p>'xy7o4' was able to retrieve Equation 6 at rank 25. Although the ellipses are having some effect, the larger number of horizontal and vertical regions may be limiting their influence. Similar to the original XY-PHOC system, the new models perform well when relevant formulas have most of the symbols from the query, and symbol placements are not shifted far from their locations in the query. As an example, Table <ref type="table" coords="11,294.12,560.23,5.17,4.95" target="#tab_3">4</ref> shows the top 5 hits for topic Q.202 from the visually unique 'xy7o4' results. All returned hits have symbols from the query that are shifted only slightly. This feature is also the model's weakness. Consider Table <ref type="table" coords="11,404.77,587.33,3.68,4.95" target="#tab_4">5</ref>, which shows the top 5 hits for topic Q.229 using the same PHOC model. Many of the query symbols are present, and in some hits they are only shifted slightly or duplicated. However, a duplication can cause a formula to take on a very different meaning, as seen in the 2nd and 5th ranked hits in Table <ref type="table" coords="11,499.71,627.98,3.74,4.95" target="#tab_4">5</ref>, where an additional integral is introduced.  </p><formula xml:id="formula_10" coords="12,189.51,133.60,216.25,95.70">{ï¸€ 1 ğ‘¥ }ï¸€{ï¸€ 1 1-ğ‘¥ }ï¸€{ï¸€ 1 -1 ğ‘¥ }ï¸€ ğ‘‘ğ‘¥ Relevance 1 âˆ«ï¸€ 1 0 { 1 ğ‘¥ }ğ‘‘ğ‘¥ 1 2 âˆ«ï¸€ 1 0 âˆ«ï¸€ 1 0 { 1 ğ‘¥ }{ 1 ğ‘¥ ğ‘¦ }ğ‘‘ğ‘¥ ğ‘‘ğ‘¦ 1 3 âˆ«ï¸€ 1 0 1 1-ğ‘¥ ğ‘‘ğ‘¥ 0 4 âˆ«ï¸€ 1 0 {ï¸ 1 ğ‘¥ 1 6 }ï¸ ğ‘‘ğ‘¥ 1 5 âˆ«ï¸€ 1 0 âˆ«ï¸€ 1 0 {ï¸ 1 ğ‘¥ }ï¸{ï¸ 1 ğ‘¦ }ï¸ (1-ğ‘¥)(1-ğ‘¦) 1-ğ‘¥ğ‘¦ ğ‘‘ğ‘¥ğ‘‘ğ‘¦ 1</formula></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="6.2.">ARQMath-3 (2022)</head><p>Results for our three submitted ARQMath-3 runs, along with the top runs from participating teams and the ARQMath-2 XY-PHOC run are shown in Table <ref type="table" coords="12,371.30,470.07,3.81,4.95" target="#tab_5">6</ref>. These runs were submitted using the individual formula indices, which result in a reduction in retrieval effectiveness for nDCG â€² and MAP â€² as seen in Table <ref type="table" coords="12,251.24,497.17,5.17,4.95" target="#tab_2">3</ref> and discussed in the previous section. When we first realized this, we set the number of documents (formulas) retrieved to 30,000. Going higher often caused OpenSearch to raise an error and stop. After this large number of hits was returned, a de-duplication for visual formula identifiers was run, so that no more than 1000 hits were selected for each topic in the submitted runs.</p><p>For most other submissions NDCG â€² is the highest scoring metric (including XY-PHOC, which indexed visually distinct formulas), but for most of our runs it is P â€² @10. While we could not match the XY-PHOC results using 'xy5', we were able to match P â€² @10 results for ARQMath 2021 using 'xy7o4'. Also, for ARQMath-3 (2022), the P â€² @10 measures for 'xy7o4' are the secondhighest for an automatic system after TangentCFT2ED, which is an n-gram embedding model applied to tree edges from Symbol Layout Trees (SLTs) and Operator Trees (OPTs), followed by reranking using a weighted tree edit distance.</p><p>Notes on Result Diversity in Formula Search. Related to indexing individual formulas, in a real-world setting you often cannot simply discard documents (formulas) because they are identical to other formulas in the collection, as a query may include text and/or additional formulas with matches that need to be merged. However, presenting a long list of identical results for a query is also unhelpful. To address this situation, we turn to research on search result diversity. Clarke et al. devised an evaluation measure, where if a specific information nugget appears in the first ğ‘˜ -1 retrieved documents, then a repetition of that information nugget in the k th returned document has less weight in the evaluation measure, as it will provide no additional benefit <ref type="bibr" coords="13,124.16,322.62,11.58,4.95" target="#b8">[9]</ref>. Information Nuggets can be described as atomic units of relevant information <ref type="bibr" coords="13,89.29,336.17,16.24,4.95" target="#b9">[10]</ref>. We could apply this measure as a way to select results shown to the user, to increase the diversity of results. Within the ARQMath Task 2 a nugget could be modeled by individual visual ids, or groupings of visual ids that are similar but contain different symbols, such as shown in Table <ref type="table" coords="13,127.89,376.82,3.76,4.95" target="#tab_6">7</ref>. These formulae all look similar, and likely represent the same cartesian product in many contexts, but have distinct L A T E X strings and visual identifiers.</p><p>Another option would be to have results nested under visually distinct formulas within Search Engine Results Pages (SERP), for example as done previously for the original Tangent formula search engine (see Figure <ref type="figure" coords="13,205.90,431.01,5.15,4.95">8</ref> of Zanibbi and Orakwue <ref type="bibr" coords="13,326.72,431.01,15.84,4.95" target="#b10">[11]</ref>). This would allow us to show only formulas associated with unique visual ids, so that diverse results can easily be scanned. To save space, clicking on a visually distinct formula could drop down a list of documents associated with the formula, rather than list them inline as done in the Tangent prototype. Building on the idea of grouping visual ids into nuggets, we could have each drop down be associated with a nugget, to allow for even more diverse results; again as an example, a similar thing was done for Tangent-3, where formulas that unify the same symbols in the query were grouped <ref type="bibr" coords="13,89.29,525.86,16.15,4.95" target="#b11">[12]</ref>. A tie-breaking algorithm could be applied to rank results within each of these drop down groupings.</p><p>Visual Comparison of qrels and Top-5 Results. We compared the top 5 results between our systems and the best runs submitted by each team using a tool we created, ARQMathCompare. 8 The tool takes Task 2 submitted runs as input, a qrel file, a topics file, and the ARQMath L A T E X formula index files, and then renders the results in a web page to make it is easy to visually scan and compare results. Approach0's L8 run and the DPRL's TangentCFT2ED run had the best P â€² @10 scores for primary runs for the ARQMath 2021 and 2022 topics, with Approach0's L8 being the best for the 2020 topics and DPRL's TangentCFT2ED being a close third, so we used these two systems in our visual comparisons. First, in Appendix A we show an example of where our system outperformed top systems in Figure <ref type="figure" coords="14,132.94,287.55,3.81,4.95">5</ref>, for topic B.360. The non-relevant hits returned by TangentCFT2ED and L8 both contain symbols that are not present in the query, for example "log" (parsed as "l", "o", "g" by the XY-PHOC systems), "ğœ", "2", "(" and ")". Given that our systems only score symbols present in both the query and a candidate and penalize additional symbols in a candidate, it becomes less likely that formulas with additional symbols will have a high rank.</p><p>Next, Figure <ref type="figure" coords="14,157.05,355.30,5.02,4.95">6</ref> shows results for topic B.363, where the inability to match symbols not in the query negatively affects PHOC results. From the top results from the L8 system and the qrel file, it can be seen that most relevant answers contain sup ğ‘¡â‰¥0 ğ‘€ ğ‘¡ . None of these symbols appear in the query; so in order for a candidate document with these symbols to score higher with our system, the candidate would need to contain most of the symbols in the query.</p><p>Even with these differences in systems, there are queries that all systems struggled with, such as for topic B.345 shown in Figure <ref type="figure" coords="14,242.31,436.59,3.70,4.95">7</ref>. All systems return mostly piece-wise function definitions rated as having low or non-relevance. None do a good job matching the functions with those of relevant documents. This shows that with some queries, additional context and/or mathematical knowledge will be needed to obtain strong retrieval results.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="6.3.">Exploring an Efficiency and Effectiveness Trade-Off</head><p>An important part of this work was accelerating the previous XY-PHOC model, which took 9.5 minutes on average per query <ref type="bibr" coords="14,227.69,540.52,11.58,4.95" target="#b2">[3]</ref>. We measure model efficiency using Mean Retrieval Time (MRT) in seconds. Retrieval run against the individual formula index is much slower, as more results are returned from the larger collection. All experiments run on the individual formula dataset were fully disjunctive, and had a Mean Response Time of ~110 seconds, which was much faster than XY-PHOC, but still much slower than we wished.</p><p>In this Section, we report additional experiments we carried out using our visually unique formula indices. After submitting our runs, we learned that OpenSearch supports adding a threshold percentage of query tokens (for PHOC, symbols) to be present in order for a document to be scored. A token match threshold of 0% yields a fully disjunctive search, while a threshold of 100% produces a fully conjunctive query. We ran multiple experiments in which we tested different percentages against the 'xy5' index built from visually unique formulas, and recorded both MRT and the ARQMath effectiveness metrics. The topic file used was that of Task 2 ARQMath 2021.</p><p>Results can be seen in Table <ref type="table" coords="15,225.37,130.87,3.67,4.95" target="#tab_7">8</ref>. Note that setting the symbol matching threshold to 0% yields the same results seen in Table <ref type="table" coords="15,219.24,144.41,4.97,4.95" target="#tab_5">6</ref> for 'xy5': both use the same representation and disjunct retrieval, but use different indices (the submitted run uses an individual formula index, while Table <ref type="table" coords="15,490.93,157.96,5.09,4.95" target="#tab_7">8</ref> is for a visually distinct formula index). Table <ref type="table" coords="15,279.27,171.51,4.97,4.95" target="#tab_7">8</ref> shows that as the percentage of symbols that must match is increased, the MRT decreases as less candidates are considered for scoring. Surprisingly, effectiveness does not suffer until the threshold percentage reaches ~85%. Consider the rows for 0% and 75% as an example. Despite the MRT dropping from 10.84 to 1.25, an 88.46% decrease, metrics only degrade very slightly for NDCG â€² and MAP â€² , while P â€² @10 actually improves. Going all the way down to the fully conjunctive (100%) retrieval, we see a more substantial decrease in effectiveness, but the MRT is only 0.18 seconds, which is a period of time that is close to what an end user may perceive as instantaneous <ref type="bibr" coords="15,282.64,266.36,16.25,4.95" target="#b12">[13]</ref>, and with a P â€² @10 of 30%.</p><p>When actually deploying the models to a live application, the intended use case needs to be considered. Having a user wait 10+ seconds with the fully disjunctive query is likely not an acceptable user experience, however waiting 1.25 seconds for a query may be good enough. There are also use cases such as autocomplete, which was previously explored by Avenoso <ref type="bibr" coords="15,89.29,334.10,11.44,4.95" target="#b4">[5]</ref>. Autocomplete would likely benefit from a mostly conjunctive (95%) or a fully conjunctive search, as you would not want to have a recommended completion that does not contain most of the symbols already entered. While waiting 1.25 seconds for an ad-hoc query result may be acceptable, many users may hope to finish entering a query before 1.25 seconds pass. Fortunately, the 0.18 seconds obtained for the fully conjunct model should be fast enough to return autocompletion suggestions in real time.</p><p>We believe we can do better still in terms of reducing Mean Response Time by incorporating other strategies that have been used to accelerate text retrieval such as MaxScore <ref type="bibr" coords="15,467.81,428.95,18.07,4.95" target="#b13">[14]</ref> and Block-Max <ref type="bibr" coords="15,140.31,442.50,16.25,4.95" target="#b14">[15]</ref>.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="7.">Conclusion</head><p>We have expanded the original bidirectional XY-PHOC model and implementation by adding more region shapes, and increasing retrieval speed substantially. We believe that there are additional opportunities to improve retrieval speed, for example using MaxScore <ref type="bibr" coords="15,446.63,528.22,17.82,4.95" target="#b13">[14]</ref> or Block-Max <ref type="bibr" coords="15,112.75,541.77,18.07,4.95" target="#b14">[15]</ref> strategies. The new implementation uses a modern search engine (OpenSearch), and the new AnyPHOC library will allow different spatial region configurations to be created more rapidly. Experiments we plan to undergo in the near term include using more ellipses than vertical or horizontal splits in order to place a stronger emphasis on capturing symmetric layouts, and making use of the line representation used in the original XY-PHOC experiments as it appears to be a more effective representation.</p><p>While we have been unable to quite match the results from XY-PHOC with our 'xy5' model, we feel that our results are promising. For the new implementation, the 'xy7o4' model performed better than the 'xy5' model we ran this year. Once we are able to replicate the results from last year, it is reasonable to expect that the 'xy7o4' model will perform even better. We also believe that weighting regions more at higher levels (i.e., smaller regions) and incorporating positional IDF could help us assign weight to rarer symbols and symbol locations more effectively. Lastly, we plan to incorporate result diversity techniques to formula retrieval; we are particularly interested in applying nugget-based analysis to group visual ids, so that end users are not flooded with overly similar formulas in search results.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0" coords="3,89.29,374.79,416.69,8.93;3,89.29,386.80,417.79,8.87;3,89.29,398.75,414.92,8.87"><head>Figure 1 :</head><label>1</label><figDesc>Figure 1: XYO4 PHOC Regions. X, Y, and elipsoid (O) regions are organized pyramidally, with equal sized partitions of 2 through 4 regions in Levels 2-4. Level 1 represents the entire expression. For space, the PHOC bit sub-vectors for symbols are shown for the leftmost and rightmost symbols ('y' and '9').</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1" coords="5,89.29,304.28,416.69,8.93;5,89.29,316.28,368.38,8.87"><head>Figure 2 :</head><label>2</label><figDesc>Figure 2: Capturing Semantic Equivalence with Ellipsoidal Regions. Here a formula with commutative operations ('+' and '=') is flipped horizontally, producing nearly equivalent PHOC vectors.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2" coords="5,285.66,397.73,220.32,4.95;5,89.29,411.28,416.70,4.95;5,89.04,424.83,416.95,4.95;5,89.29,438.38,416.69,4.95;5,89.29,451.93,141.77,4.95"><head>Figure 1</head><label>1</label><figDesc>shows an 'xyo4' PHOC configuration. The top-level (Level 1) contains all symbols. The columns below Level 1 represent Levels 2 through 4 for the vertical rectangle ('y'), horizontal rectangle ('x'), and ellipsis ('o') region types. Shown below each level in Figure1are sub-vectors representing the portion of the PHOC associated individual symbols at that level.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_3" coords="6,89.29,276.29,416.70,11.07;6,89.29,288.30,416.69,8.87;6,89.29,300.25,416.69,8.87;6,89.29,312.21,50.53,8.87"><head>Figure 3 :</head><label>3</label><figDesc>Figure 3: Indexing L A T E X Formulas as PHOC Vectors. At left the indexing pipeline is shown: L A T E X is converted to SVG using MathJax, SVGs are converted to PHOC vectors for individual symbols, which are stored in JSON for ingestion by OpenSearch. At right, we show an example formula moving through the pipeline.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_4" coords="6,194.19,365.90,18.96,9.57"><head></head><label></label><figDesc>bcos</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_5" coords="10,89.29,168.07,418.36,8.93;10,89.29,180.07,416.69,8.87;10,89.29,192.03,156.73,8.87"><head>Figure 4 :</head><label>4</label><figDesc>Figure 4: Effect of Collapsing Numbers on Y dimension PHOC Representation (Level 7 shown).Collapsing digits and decimal places (at left) allows digits and decimal points in a number to be matched at one position, which may be beneficial.</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_6" coords="11,210.04,449.92,5.68,9.57;11,217.47,445.52,3.65,5.24;11,217.26,449.92,53.61,9.57;11,276.90,444.90,3.65,5.24;11,272.07,449.92,113.16,9.57;11,494.41,452.44,11.57,4.95;11,207.48,483.49,6.55,9.57;11,215.70,479.10,3.65,5.24;11,215.22,483.49,54.66,9.57;11,276.17,478.47,3.65,5.24;11,271.08,483.49,116.72,9.57"><head>1 ğ‘›+1.</head><label>1</label><figDesc>(visual id: 9090717)   </figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_0" coords="7,88.99,90.49,418.68,194.05"><head>Table 1</head><label>1</label><figDesc>PHOC Indices. The Index Type indicates whether individual formulas or visually unique formulas are indexed. Note that the last row provides statistics for the index used for XY-PHOC at ARQMath-2.a map from each symbol present in the SVG to a bitvector. These maps are then converted to the OpenSearch bulk index API file format and joined into a large file. The bitvectors are compressed into a 64-bit (long) or 32-bit (int) integer, depending on the size of the PHOC during the creation of the bulk index file. PySpark parallelizes this process in a map-reduce framework.</figDesc><table coords="7,146.12,134.06,303.04,74.92"><row><cell>PHOC Configuration</cell><cell>Index Type</cell><cell cols="2">Formulas Size on Disk (GB)</cell></row><row><cell>xy7o4</cell><cell cols="2">Individual 26,827,604</cell><cell>4.2</cell></row><row><cell>xy5</cell><cell cols="2">Individual 25,324,774</cell><cell>2.9</cell></row><row><cell>xy7o4</cell><cell>Visually Unique</cell><cell>8,268,110</cell><cell>2.7</cell></row><row><cell>xy5</cell><cell>Visually Unique</cell><cell>8,231,511</cell><cell>1.6</cell></row><row><cell>xy5 (XY-PHOC)</cell><cell>Visually Unique</cell><cell>9,326,795</cell><cell>2.3</cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_1" coords="8,88.99,90.49,418.53,153.96"><head>Table 2</head><label>2</label><figDesc>PHOC Encoding Comparison for ARQMath 2021 Formula Retrieval (Task 2), for Formulas in qrels. PHOCs are defined by a sequence of region types followed by number of PHOC levels (e.g., xy7o5 indicates 7 regions for the ğ‘¥ and ğ‘¦ directions, and 5 ellipsoidal (ğ‘œ) regions)</figDesc><table coords="8,177.55,144.17,240.18,100.28"><row><cell>Run</cell><cell cols="2">NDCG â€² MAP â€²</cell><cell cols="2">P â€² @10 Vector Length (bits)</cell></row><row><cell>xy5</cell><cell>0.6135</cell><cell cols="2">0.3089 0.3879</cell><cell>29</cell></row><row><cell>xy7</cell><cell>0.6403</cell><cell cols="2">0.3369 0.4155</cell><cell>55</cell></row><row><cell>xy10</cell><cell>0.6305</cell><cell cols="2">0.3262 0.4241</cell><cell>109</cell></row><row><cell>x7y5</cell><cell>0.6352</cell><cell>0.331</cell><cell>0.4138</cell><cell>42</cell></row><row><cell>xyo5</cell><cell>0.6337</cell><cell cols="2">0.3323 0.4293</cell><cell>43</cell></row><row><cell>x7yo5</cell><cell>0.6343</cell><cell cols="2">0.3305 0.4172</cell><cell>56</cell></row><row><cell cols="4">xy7o5 0.6415 0.3378 0.4328</cell><cell>69</cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_2" coords="9,88.91,90.49,417.08,322.35"><head>Table 3</head><label>3</label><figDesc>ARQMath-2020 and -2021 PHOC Results: Individual Formula Index vs. Visually Unique Index. Within each year, runs are sorted by nDCG â€² for the Visually Unique index.</figDesc><table coords="9,88.91,134.06,417.07,278.77"><row><cell></cell><cell></cell><cell></cell><cell cols="2">ARQMath-2020</cell><cell></cell><cell></cell></row><row><cell></cell><cell cols="3">Individual Formulas</cell><cell cols="3">Visually Unique</cell></row><row><cell>Run</cell><cell cols="6">NDCG â€² MAP â€² P â€² @10 NDCG â€² MAP â€² P â€² @10</cell></row><row><cell>xy7o4</cell><cell>0.492</cell><cell cols="2">0.316 0.433</cell><cell>0.550</cell><cell cols="2">0.369 0.438</cell></row><row><cell>xy5</cell><cell>0.419</cell><cell>0.263</cell><cell>0.403</cell><cell>0.547</cell><cell>0.319</cell><cell>0.438</cell></row><row><cell>xy5-IDF</cell><cell>0.379</cell><cell>0.241</cell><cell>0.374</cell><cell>0.492</cell><cell>0.317</cell><cell>0.404</cell></row><row><cell>xy7o4-IDF</cell><cell>-</cell><cell>-</cell><cell>-</cell><cell>0.489</cell><cell>0.318</cell><cell>0.411</cell></row><row><cell></cell><cell></cell><cell></cell><cell cols="2">ARQMath-2021</cell><cell></cell><cell></cell></row><row><cell>xy7o4</cell><cell>0.448</cell><cell cols="2">0.250 0.435</cell><cell>0.505</cell><cell cols="2">0.284 0.428</cell></row><row><cell>xy5</cell><cell>0.328</cell><cell>0.168</cell><cell>0.391</cell><cell>0.488</cell><cell>0.267</cell><cell>0.412</cell></row><row><cell>xy7o4-IDF</cell><cell>-</cell><cell>-</cell><cell>-</cell><cell>0.462</cell><cell>0.250</cell><cell>0.414</cell></row><row><cell>xy5-IDF</cell><cell>0.317</cell><cell>0.156</cell><cell>0.391</cell><cell>0.452</cell><cell>0.237</cell><cell>0.402</cell></row><row><cell cols="7">ARQMath-3. We then decided to reduce 'xy7o5' to 'xy7o4', which is exactly 64 bits long, so that</cell></row><row><cell cols="5">it would fit into a long integer in our OpenSearch index.</cell><cell></cell><cell></cell></row><row><cell cols="6">Runs. We considered 4 PHOC configurations for runs this year:</cell><cell></cell></row><row><cell>1. xy7o4</cell><cell></cell><cell></cell><cell></cell><cell></cell><cell></cell><cell></cell></row><row><cell cols="5">2. xy5 (the configuration used for XY-PHOC at ARQMath-2)</cell><cell></cell><cell></cell></row><row><cell cols="2">3. xy5-IDF (adding IDF scaling)</cell><cell></cell><cell></cell><cell></cell><cell></cell><cell></cell></row><row><cell cols="2">4. xy7o4-IDF (adding IDF scaling)</cell><cell></cell><cell></cell><cell></cell><cell></cell><cell></cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_3" coords="11,88.99,90.49,318.54,20.87"><head>Table 4</head><label>4</label><figDesc>Strong Retrieval Result for 'xy7o4' on ARQMath-2021 (Visually Unique Index)</figDesc><table /></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_4" coords="12,88.81,90.49,314.03,56.69"><head>Table 5</head><label>5</label><figDesc>Weak Retrieval Result for 'xy7o4' on ARQMath-2021 (Visually Unique Index)</figDesc><table coords="12,189.51,122.10,56.69,25.07"><row><cell></cell><cell>Q.229</cell></row><row><cell>Rank</cell><cell>âˆ«ï¸€ 1 0</cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_5" coords="12,88.99,251.88,417.59,154.89"><head>Table 6</head><label>6</label><figDesc>Submitted Runs for ARQMath-3 (results shown for 2020, 2021 and 2022 topics). The ARQMath-2 (2021) XY-PHOC run is provided for comparison. Systems ranked by nDCG â€² for 2022 topics. *: manual run MAP â€² P â€² @10 NDCG â€² MAP â€² P â€² @10 NDCG â€² MAP â€² P â€² @10</figDesc><table coords="12,96.12,295.98,403.04,110.79"><row><cell></cell><cell></cell><cell></cell><cell></cell><cell cols="2">Effectiveness Metrics</cell><cell></cell><cell></cell></row><row><cell></cell><cell></cell><cell>2020</cell><cell></cell><cell>2021</cell><cell></cell><cell></cell><cell>2022</cell></row><row><cell cols="3">Team NDCG â€² approach0* Run fusion_alph05 0.647 0.507</cell><cell>0.529</cell><cell>0.652 0.471</cell><cell>0.612</cell><cell cols="2">0.720 0.568</cell><cell>0.688</cell></row><row><cell>DPRL</cell><cell>TangentCFT2ED</cell><cell>0.648 0.480</cell><cell>0.502</cell><cell>0.569 0.368</cell><cell>0.541</cell><cell cols="2">0.694 0.480</cell><cell>0.611</cell></row><row><cell>MathDowsers</cell><cell>L8</cell><cell>0.646 0.454</cell><cell>0.509</cell><cell>0.617 0.409</cell><cell>0.510</cell><cell cols="2">0.633 0.445</cell><cell>0.549</cell></row><row><cell>Baseline</cell><cell>Tangent-S</cell><cell>0.691 0.446</cell><cell>0.453</cell><cell>0.492 0.272</cell><cell>0.419</cell><cell cols="2">0.540 0.336</cell><cell>0.511</cell></row><row><cell cols="2">XY-PHOC-DPRL XY-PHOC</cell><cell>0.611 0.423</cell><cell>0.478</cell><cell>0.548 0.323</cell><cell>0.433</cell><cell>--</cell><cell>--</cell><cell>--</cell></row><row><cell cols="2">XY-PHOC-DPRL xy7o4</cell><cell>0.492 0.316</cell><cell>0.433</cell><cell>0.448 0.250</cell><cell>0.435</cell><cell cols="2">0.472 0.309</cell><cell>0.563</cell></row><row><cell cols="2">XY-PHOC-DPRL xy5-IDF</cell><cell>0.379 0.241</cell><cell>0.374</cell><cell>0.317 0.156</cell><cell>0.391</cell><cell cols="2">0.376 0.180</cell><cell>0.461</cell></row><row><cell cols="2">XY-PHOC-DPRL xy5</cell><cell>0.419 0.263</cell><cell>0.403</cell><cell>0.328 0.168</cell><cell>0.391</cell><cell cols="2">0.369 0.211</cell><cell>0.518</cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_6" coords="13,88.99,90.49,418.52,94.30"><head>Table 7</head><label>7</label><figDesc>Example: A Candidate Grouping of Visually Similar but Non-Identical Formulae into an Information Nugget<ref type="bibr" coords="13,121.15,114.45,14.77,8.87" target="#b9">[10]</ref>. Subtle differences: lower and upper-case ğ‘›, ellipsis dots that are centered or on the baseline. Ã— ... Ã— ğ´ ğ‘ , A_1 \times ... \times A_N,</figDesc><table coords="13,149.29,134.06,296.70,50.72"><row><cell cols="2">Visual Id Formula</cell><cell>L A T E X</cell></row><row><cell>469553</cell><cell cols="2">ğ´ 1 Ã— â€¢ â€¢ â€¢ Ã— ğ´ ğ‘› A_{1} \times \cdots \times A_{n}</cell></row><row><cell>22725</cell><cell>ğ´ 1 Ã— ... Ã— ğ´ ğ‘›</cell><cell>A_1\times...\times A_n</cell></row><row><cell>9014841</cell><cell>ğ´ 1</cell><cell></cell></row></table></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_7" coords="14,88.99,90.49,416.99,153.57"><head>Table 8</head><label>8</label><figDesc>Efficiency and Effectiveness Trade-off for Minimum Symbol Match Threshold ('xy5' model, ARQMath-2 Test Topics, visually distinct formula index)</figDesc><table coords="14,198.01,134.06,199.25,110.00"><row><cell cols="2">Match MRT</cell><cell cols="3">Effectiveness Metrics</cell></row><row><cell cols="4">Threshold (secs) NDCG â€² MAP â€²</cell><cell>P â€² @10</cell></row><row><cell cols="5">0% 10.84 0.4877 0.2665 0.4121</cell></row><row><cell>25%</cell><cell cols="4">8.30 0.4877 0.2665 0.4121</cell></row><row><cell>50%</cell><cell>3.20</cell><cell cols="3">0.4831 0.2665 0.4121</cell></row><row><cell>75%</cell><cell>1.25</cell><cell>0.4770</cell><cell cols="2">0.2610 0.4263</cell></row><row><cell>85%</cell><cell>0.90</cell><cell>0.4107</cell><cell cols="2">0.2171 0.3877</cell></row><row><cell>95%</cell><cell>0.58</cell><cell>0.3552</cell><cell cols="2">0.1792 0.3404</cell></row><row><cell>100%</cell><cell>0.18</cell><cell>0.2572</cell><cell cols="2">0.1253 0.3024</cell></row></table></figure>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="1" xml:id="foot_0" coords="2,108.93,673.03,396.95,6.49"><p>Three libraries (ARQMathCompare, AnyPHOC and PHOCindexing) are available from https://gitlab.com/dprl</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="2" xml:id="foot_1" coords="6,108.93,640.83,95.33,4.07"><p>https://www.mathjax.org/</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="3" xml:id="foot_2" coords="6,108.93,651.79,176.43,4.07"><p>https://spark.apache.org/docs/latest/api/python/</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="4" xml:id="foot_3" coords="6,108.93,662.75,84.65,4.07"><p>https://www.elastic.co/</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="5" xml:id="foot_4" coords="6,108.93,673.71,85.39,4.07"><p>https://opensearch.org/</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="6" xml:id="foot_5" coords="7,108.93,662.73,303.27,4.07"><p>https://www.elastic.co/guide/en/elasticsearch/painless/current/painless-guide.html</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="7" xml:id="foot_6" coords="7,108.93,673.69,94.00,4.07"><p>https://github.com/lz4/lz4</p></note>
			<note xmlns="http://www.tei-c.org/ns/1.0" place="foot" n="8" xml:id="foot_7" coords="13,108.93,673.70,147.27,4.07"><p>https://gitlab.com/dprl/arqmathcompare</p></note>
		</body>
		<back>

			<div type="acknowledgement">
<div><head>Acknowledgments</head><p>We thank <rs type="person">Robin Avenoso</rs>, whose original XY-PHOC code for ARQMath-2 we extended. This material is based upon work supported by the <rs type="funder">Alfred P. Sloan Foundation</rs> under Grant No. <rs type="grantNumber">G-2017-9827</rs>, and the <rs type="funder">National Science Foundation (USA)</rs> under Grant No. <rs type="grantNumber">IIS-1717997</rs>.</p></div>
			</div>
			<listOrg type="funding">
				<org type="funding" xml:id="_kaeTVaj">
					<idno type="grant-number">G-2017-9827</idno>
				</org>
				<org type="funding" xml:id="_H6wvV5K">
					<idno type="grant-number">IIS-1717997</idno>
				</org>
			</listOrg>
			<div type="annex">
<div xmlns="http://www.tei-c.org/ns/1.0"><head>A. ARQMathCompare Formula Retrieval Result Visualizations</head><p>We include PDF screenshots of the HTML pages that we used to compare Task 2 runs for ARQMath-3 in Figures 5 to 7 below. A description may be found in Section 6.2.    </p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Rendered</head></div>			</div>
			<div type="references">

				<listBibl>

<biblStruct coords="16,112.66,288.76,393.33,4.95;16,112.28,302.31,394.91,4.95;16,112.66,315.86,22.69,4.95" xml:id="b0">
	<analytic>
		<title level="a" type="main" coord="16,340.22,288.76,165.76,4.95;16,112.28,302.31,126.70,4.95">Advancing Math-Aware Search: The ARQMath-3 Lab at CLEF 2022</title>
		<author>
			<persName coords=""><forename type="first">B</forename><surname>Mansouri</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">A</forename><surname>Agarwal</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">D</forename><forename type="middle">W</forename><surname>Oard</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">R</forename><surname>Zanibbi</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m" coord="16,260.39,302.31,201.22,4.95">European Conference on Information Retrieval</title>
		<imprint>
			<publisher>Springer</publisher>
			<date type="published" when="2022">2022</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="16,112.66,329.41,395.17,4.95;16,112.66,342.96,393.33,4.95;16,112.30,356.51,394.89,4.95;16,112.66,370.06,22.69,4.95" xml:id="b1">
	<analytic>
		<title level="a" type="main" coord="16,398.52,329.41,109.32,4.95;16,112.66,342.96,5.17,4.95;16,155.30,342.96,274.87,4.95">Third CLEF lab on Answer Retrieval for Questions on Math</title>
		<author>
			<persName coords=""><forename type="first">B</forename><surname>Mansouri</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">V</forename><surname>NovotnÃ½</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">A</forename><surname>Agarwal</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">D</forename><forename type="middle">W</forename><surname>Oard</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">R</forename><surname>Zanibbi</surname></persName>
		</author>
	</analytic>
	<monogr>
		<title level="m" coord="16,169.15,356.51,332.87,4.95">Working Notes of CLEF 2022 -Conference and Labs of the Evaluation Forum</title>
		<imprint>
			<date type="published" when="2022">2022. 2022</date>
		</imprint>
	</monogr>
	<note>Overview of ARQMath-3. Working Notes Version</note>
</biblStruct>

<biblStruct coords="16,112.66,383.61,393.32,4.95;16,112.66,397.16,394.53,4.95;16,112.66,410.71,393.33,4.95;16,112.66,422.02,394.52,9.72;16,112.66,437.81,392.89,4.95" xml:id="b2">
	<analytic>
		<title level="a" type="main" coord="16,280.52,383.61,225.46,4.95;16,112.66,397.16,176.62,4.95">XY-PHOC Symbol Location Embeddings for Math Formula Retrieval and Autocompletion</title>
		<author>
			<persName coords=""><forename type="first">R</forename><surname>Avenoso</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">B</forename><surname>Mansouri</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">R</forename><surname>Zanibbi</surname></persName>
		</author>
		<ptr target="http://ceur-ws.org/Vol-2936/#paper-02,iSSN:1613-0073" />
	</analytic>
	<monogr>
		<title level="m" coord="16,179.13,410.71,326.85,4.95;16,112.66,424.26,106.31,4.95">Proceedings of the Working Notes of CLEF 2021 -Conference and Labs of the Evaluation Forum</title>
		<title level="s" coord="16,297.85,422.02,153.73,9.72">CEUR Workshop Proceedings, CEUR</title>
		<editor>
			<persName><forename type="first">G</forename><surname>Faggioli</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">N</forename><surname>Ferro</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">A</forename><surname>Joly</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">M</forename><surname>Maistro</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">F</forename><surname>Piroi</surname></persName>
		</editor>
		<meeting>the Working Notes of CLEF 2021 -Conference and Labs of the Evaluation Forum<address><addrLine>Bucharest, Romania</addrLine></address></meeting>
		<imprint>
			<date type="published" when="2021">2936. 2021</date>
			<biblScope unit="page" from="25" to="35" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="16,112.66,451.35,393.33,4.95;16,112.28,464.90,394.42,4.95;16,112.41,478.45,136.90,4.95" xml:id="b3">
	<monogr>
		<title level="m" type="main" coord="16,339.47,451.35,166.52,4.95;16,112.28,464.90,129.71,4.95">Advancing Math-Aware Search: The ARQMath-2 Lab at CLEF 2021</title>
		<author>
			<persName coords=""><forename type="first">B</forename><surname>Mansouri</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">A</forename><surname>Agarwal</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">D</forename><forename type="middle">W</forename><surname>Oard</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">R</forename><surname>Zanibbi</surname></persName>
		</author>
		<idno type="DOI">10.1007/978-3-030-72240-1_74</idno>
		<ptr target="https://link.springer.com/chapter/10.1007/978-3-030-72240-1_74" />
		<imprint>
			<date type="published" when="2021">2021</date>
			<publisher>SpringerLink</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="16,112.66,492.00,394.04,4.95;16,112.66,505.55,153.75,4.95" xml:id="b4">
	<monogr>
		<author>
			<persName coords=""><forename type="first">R</forename><surname>Avenoso</surname></persName>
		</author>
		<ptr target="https://scholarworks.rit.edu/theses/10784" />
		<title level="m" coord="16,174.17,492.00,236.47,4.95">Spatial vs. Graph-Based Formula Retrieval, Theses</title>
		<imprint>
			<date type="published" when="2021">2021</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="16,112.66,519.10,393.33,4.95;16,112.66,532.65,395.01,4.95;16,112.66,546.20,222.43,4.95" xml:id="b5">
	<analytic>
		<title level="a" type="main" coord="16,189.75,519.10,316.24,4.95;16,112.66,532.65,37.25,4.95">A Statistical Interpretation Of Term Specificity And Its Application In Retrieval</title>
		<author>
			<persName coords=""><forename type="first">K</forename><forename type="middle">Sparck</forename><surname>Jones</surname></persName>
		</author>
		<idno type="DOI">10.1108/eb026526</idno>
		<ptr target="https://doi.org/10.1108/eb026526.doi:10.1108/eb026526,publisher" />
	</analytic>
	<monogr>
		<title level="j" coord="16,156.53,532.65,112.34,4.95">Journal of Documentation</title>
		<imprint>
			<biblScope unit="volume">28</biblScope>
			<biblScope unit="page" from="11" to="21" />
			<date type="published" when="1972">1972</date>
			<publisher>MCB UP Ltd</publisher>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="16,112.66,559.75,393.32,4.95;16,112.66,573.30,394.52,4.95;16,112.66,586.85,352.39,4.95" xml:id="b6">
	<analytic>
		<title level="a" type="main" coord="16,231.36,559.75,274.62,4.95;16,112.66,573.30,155.58,4.95">Some Simple Effective Approximations to the 2-Poisson Model for Probabilistic Weighted Retrieval</title>
		<author>
			<persName coords=""><forename type="first">S</forename><forename type="middle">E</forename><surname>Robertson</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">S</forename><surname>Walker</surname></persName>
		</author>
		<idno type="DOI">10.1007/978-1-4471-2099-5_24</idno>
	</analytic>
	<monogr>
		<title level="m" coord="16,463.71,573.30,39.64,4.95">SIGIR &apos;94</title>
		<editor>
			<persName><forename type="first">B</forename><forename type="middle">W</forename><surname>Croft</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">C</forename><forename type="middle">J</forename><surname>Van Rijsbergen</surname></persName>
		</editor>
		<meeting><address><addrLine>London</addrLine></address></meeting>
		<imprint>
			<publisher>Springer</publisher>
			<date type="published" when="1994">1994</date>
			<biblScope unit="page" from="232" to="241" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="16,112.66,600.40,393.33,4.95;16,112.26,613.95,393.73,4.95;16,112.66,627.49,377.50,4.95" xml:id="b7">
	<analytic>
		<title level="a" type="main" coord="16,209.63,600.40,296.36,4.95;16,112.26,613.95,61.12,4.95">Evaluating word string embeddings and loss functions for cnn-based word spotting</title>
		<author>
			<persName coords=""><forename type="first">S</forename><surname>Sudholt</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">G</forename><forename type="middle">A</forename><surname>Fink</surname></persName>
		</author>
		<idno type="DOI">10.1109/ICDAR.2017.87</idno>
	</analytic>
	<monogr>
		<title level="m" coord="16,196.46,613.95,309.53,4.95;16,112.66,627.49,91.83,4.95">2017 14th IAPR International Conference on Document Analysis and Recognition (ICDAR)</title>
		<imprint>
			<date type="published" when="2017">2017</date>
			<biblScope unit="volume">01</biblScope>
			<biblScope unit="page" from="493" to="498" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="16,112.66,641.04,394.53,4.95;16,112.66,654.59,393.33,4.95;16,112.66,668.14,393.32,4.95;17,112.66,90.22,395.01,4.95;17,112.66,103.77,356.38,4.95" xml:id="b8">
	<analytic>
		<title level="a" type="main" coord="16,112.66,654.59,259.47,4.95">Novelty and diversity in information retrieval evaluation</title>
		<author>
			<persName coords=""><forename type="first">C</forename><forename type="middle">L</forename><surname>Clarke</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">M</forename><surname>Kolla</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">G</forename><forename type="middle">V</forename><surname>Cormack</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">O</forename><surname>Vechtomova</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">A</forename><surname>Ashkan</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">S</forename><surname>BÃ¼ttcher</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">I</forename><surname>Mackinnon</surname></persName>
		</author>
		<idno type="DOI">10.1145/1390334.1390446</idno>
		<ptr target="http://portal.acm.org/citation.cfm?doid=1390334.1390446.doi:10.1145/1390334.1390446" />
	</analytic>
	<monogr>
		<title level="m" coord="16,399.04,654.59,106.94,4.95;16,112.66,668.14,393.32,4.95;17,112.66,90.22,88.70,4.95">Proceedings of the 31st annual international ACM SIGIR conference on Research and development in information retrieval -SIGIR &apos;08</title>
		<meeting>the 31st annual international ACM SIGIR conference on Research and development in information retrieval -SIGIR &apos;08<address><addrLine>Singapore, Singapore</addrLine></address></meeting>
		<imprint>
			<publisher>ACM Press</publisher>
			<date type="published" when="2008">2008</date>
			<biblScope unit="page">659</biblScope>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="17,112.66,117.32,393.33,4.95;17,112.66,130.87,393.33,4.95;17,112.66,144.41,394.62,4.95;17,112.66,157.96,394.97,4.95" xml:id="b9">
	<analytic>
		<title level="a" type="main" coord="17,319.43,117.32,186.56,4.95;17,112.66,130.87,63.87,4.95">IR system evaluation using nugget-based test collections</title>
		<author>
			<persName coords=""><forename type="first">V</forename><surname>Pavlu</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">S</forename><surname>Rajput</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">P</forename><forename type="middle">B</forename><surname>Golbus</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">J</forename><forename type="middle">A</forename><surname>Aslam</surname></persName>
		</author>
		<idno type="DOI">10.1145/2124295.2124343</idno>
		<ptr target="http://dl.acm.org/citation.cfm?doid=2124295.2124343.doi:10.1145/2124295.2124343" />
	</analytic>
	<monogr>
		<title level="m" coord="17,199.12,130.87,306.87,4.95;17,112.66,144.41,130.97,4.95">Proceedings of the fifth ACM international conference on Web search and data mining -WSDM &apos;12</title>
		<meeting>the fifth ACM international conference on Web search and data mining -WSDM &apos;12<address><addrLine>Seattle, Washington, USA</addrLine></address></meeting>
		<imprint>
			<publisher>ACM Press</publisher>
			<date type="published" when="2012">2012</date>
			<biblScope unit="page">393</biblScope>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="17,112.66,171.51,393.33,4.95;17,112.66,185.06,394.53,4.95;17,112.66,198.61,394.53,4.95;17,112.66,209.92,394.53,9.72;17,112.66,225.71,394.51,4.95;17,112.66,238.45,123.08,7.90" xml:id="b10">
	<analytic>
		<title level="a" type="main" coord="17,225.43,171.51,280.55,4.95;17,112.66,185.06,118.19,4.95">Math search for the masses: Multimodal search interfaces and appearance-based retrieval</title>
		<author>
			<persName coords=""><forename type="first">R</forename><surname>Zanibbi</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">A</forename><surname>Orakwue</surname></persName>
		</author>
		<idno type="DOI">10.1007/978-3-319-20615-8_2</idno>
		<ptr target="https://doi.org/10.1007/978-3-319-20615-8_2.doi:10.1007/978-3-319-20615-8" />
	</analytic>
	<monogr>
		<title level="m" coord="17,112.66,198.61,330.20,4.95">Intelligent Computer Mathematics -International Conference, CICM 2015</title>
		<title level="s" coord="17,358.63,209.92,144.47,9.72">Lecture Notes in Computer Science</title>
		<editor>
			<persName><forename type="first">M</forename><surname>Kerber</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">J</forename><surname>Carette</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">C</forename><surname>Kaliszyk</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">F</forename><surname>Rabe</surname></persName>
		</editor>
		<editor>
			<persName><forename type="first">V</forename><surname>Sorge</surname></persName>
		</editor>
		<meeting><address><addrLine>Washington, DC, USA</addrLine></address></meeting>
		<imprint>
			<publisher>Springer</publisher>
			<date type="published" when="2015">July 13-17, 2015. 2015</date>
			<biblScope unit="volume">9150</biblScope>
			<biblScope unit="page" from="18" to="36" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="17,112.66,252.81,393.32,4.95;17,112.66,266.36,301.22,4.95" xml:id="b11">
	<monogr>
		<title level="m" type="main" coord="17,158.60,252.81,347.38,4.95;17,112.66,266.36,213.25,4.95">Symbolic and Visual Retrieval of Mathematical Notation using Formula Graph Symbol Pair Matching and Structural Alignment</title>
		<author>
			<persName coords=""><forename type="first">K</forename><surname>Davila</surname></persName>
		</author>
		<imprint>
			<date type="published" when="2017">2017</date>
		</imprint>
	</monogr>
	<note type="report_type">Ph.D. thesis</note>
</biblStruct>

<biblStruct coords="17,112.66,279.91,395.17,4.95;17,112.66,293.46,395.01,4.95;17,112.66,307.00,376.94,4.95" xml:id="b12">
	<analytic>
		<title level="a" type="main" coord="17,253.29,279.91,254.54,4.95;17,112.66,293.46,94.18,4.95">A psychophysical study of the visual perception of &quot;instantaneous&quot; and &quot;durable</title>
		<author>
			<persName coords=""><forename type="first">J</forename><surname>Serviere</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">D</forename><surname>Miceli</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">Y</forename><surname>Galifret</surname></persName>
		</author>
		<idno type="DOI">10.1016/0042-6989(77)90201-2</idno>
		<ptr target="https://www.sciencedirect.com/science/article/pii/0042698977902012.doi:10.1016/0042-6989(77)90201-2" />
	</analytic>
	<monogr>
		<title level="j" coord="17,219.24,293.46,70.55,4.95">Vision Research</title>
		<imprint>
			<biblScope unit="volume">17</biblScope>
			<biblScope unit="page" from="57" to="63" />
			<date type="published" when="1977">1977</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="17,112.66,320.55,393.33,4.95;17,112.66,334.10,394.03,4.95;17,112.66,347.65,290.17,4.95" xml:id="b13">
	<analytic>
		<title level="a" type="main" coord="17,194.96,320.55,201.49,4.95">Query evaluation: strategies and optimizations</title>
		<author>
			<persName coords=""><forename type="first">H</forename><surname>Turtle</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">J</forename><surname>Flood</surname></persName>
		</author>
		<idno type="DOI">10.1016/0306-4573(95)00020-H</idno>
		<ptr target="https://doi.org/10.1016/0306-4573(95)00020-H.doi:10.1016/0306-4573(95)00020-H" />
	</analytic>
	<monogr>
		<title level="j" coord="17,404.28,320.55,101.71,4.95;17,112.66,334.10,185.21,4.95">Information Processing and Management: an International Journal</title>
		<imprint>
			<biblScope unit="volume">31</biblScope>
			<biblScope unit="page" from="831" to="850" />
			<date type="published" when="1995">1995</date>
		</imprint>
	</monogr>
</biblStruct>

<biblStruct coords="17,112.66,361.20,395.17,4.95;17,112.66,374.75,395.17,4.95;17,112.66,388.30,394.53,4.95;17,112.66,401.85,395.01,4.95;17,112.66,415.40,155.44,4.95" xml:id="b14">
	<analytic>
		<title level="a" type="main" coord="17,195.47,361.20,262.99,4.95">Faster top-k document retrieval using block-max indexes</title>
		<author>
			<persName coords=""><forename type="first">S</forename><surname>Ding</surname></persName>
		</author>
		<author>
			<persName coords=""><forename type="first">T</forename><surname>Suel</surname></persName>
		</author>
		<idno type="DOI">10.1145/2009916.2010048</idno>
		<ptr target="https://doi.org/10.1145/2009916.2010048.doi:10.1145/2009916.2010048" />
	</analytic>
	<monogr>
		<title level="m" coord="17,488.38,361.20,19.45,4.95;17,112.66,374.75,395.17,4.95;17,112.66,388.30,202.99,4.95">Proceedings of the 34th international ACM SIGIR conference on Research and development in Information Retrieval, SIGIR &apos;11</title>
		<meeting>the 34th international ACM SIGIR conference on Research and development in Information Retrieval, SIGIR &apos;11<address><addrLine>New York, NY, USA</addrLine></address></meeting>
		<imprint>
			<publisher>Association for Computing Machinery</publisher>
			<date type="published" when="2011">2011</date>
			<biblScope unit="page" from="993" to="1002" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>
